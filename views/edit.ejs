<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Student Information</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script>
            function goBack() { window.history.back();}
            </script>
    </head>
    <body>
        <div class="jumbotron text-center">
            <h1>Update Student Information : <%= information.name %> </h1>
            <p ></p>Owner: <%= information.owner %></p><br>
        </div>
        <div class="container-fluid text-left">
            <form action="/update" method="POST" enctype="multipart/form-data">
                <!--the enctype attribute is required for a file upload control form-->
                <!--the attribute is not encoding characters-->
                <label for="name">Student Name*:</label>
                <input type="text" id="stu_name" name="stu_name" class="form-control" placeholder="Student Name" value= <% if (information.stu_name) { %><%= information.stu_name %><% } %>> <br>

                <label for="stu_id">Student ID:</label>
                <input type="text" id="stu_id" name="stu_id" class="form-control" placeholder="Student ID" value = <% if (information.stu_id) { %><%= information.stu_id %><% } %>><br>
                
                <label for="age">Age:</label>
                <input type="text" id="age" name="age" class="form-control" placeholder="Age" value =<% if (information.age) { %><%= information.age %><% } %>><br>
                
                <label for="programme">Study Programme:</label>
                <input type="text" id="programme" name="programme" class="form-control" placeholder="Study Programme" value =<% if (information.programme) { %><%= information.programme %><% } %>> <br>
                
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" class="form-control" placeholder="Address" value =  <% if (information.address) { %><%= information.address %><% } %>><br>
                
                <label for="con_no">Contact Number:</label>
                <input type="text" id="con_no" name="con_no" class="form-control" placeholder="Contact Number" value =  <% if (information.con_no) { %><%= information.con_no %><% } %>><br>
				
                <label for="cgpa">Cumulative GPA:</label>
                <input type="text" id="un_degree" name="cgpa" class="form-control" placeholder="Cumulative GPA" value = <% if (information.cgpa { %><%= information.cgpa %><% } %>><br>
                
                <div class="custom-file">
                    <label class="custom-file-label" for="photo">Update your student photo:</label>
                    <div class="row" >
                        <% if (information.photo) { %>
                            <img src="data:image/<%= information.photo.mimetype %>;base64, <%= information.photo.data %>" alt="<%= information.photo.title %>" class="img-thumbnail"><br>
                        <% } %>
                    </div>
                    <input type="file" id="photo" name="photo" class="form-control custom-file-input" placeholder="Photo"><br>
                </div>
                <input type="hidden" name="_id" value=<%= information.id_ %>>
                <input type="hidden" name="owner" value=<%= information.teacher %>>
                <input type="submit" value="update">
            </form>
        </div>
    </body>
    <script>
        $(".custom-file-input").on("change", function() {
          var fileName = $(this).val().split("\\").pop();
          $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
        });
    </script>
</html>
